= How to Build the Debian Installer for NDAS
This document only applies to the pre-built client source code. If you need to export the client source code for other distributions or different kernel versions, checkout the repository, then follow the instructions in doc/howtobuild.txt. 


== Prerequisites ==

* dpkg-dev
* debhelper
* gcc 
* bzip2
* fakeroot
* module-assistant
* libc6-dev
* build-essential
  
You can run the following commands with root privilege:

{{{
apt-get install dpkg-dev debhelper gcc bzip2 fakeroot module-assistant libc6-dev build-essential
apt-get install linux-headers-`uname -r`
}}}


== Download and build ==

NDAS client source code is versioned after the running kernel from the major distributions for which we offer support. These are no longer fully backward compatible, so if there is not the exact kernel version, start with the nearest, lower version to your system based on the result of "uname -r. " If it compiles and runs, you are ok. If not, try the next higher version. The changes are realtively few so far in the block layer. Basic procedure goes like so:

1. Download a source tarball.
1. Unpack.
1. Move to the source folder.
1. Create .deb installers with dpkg.
1. Move up install the modules source.
1. As root or with sudo, build and install with module-assistant.
1. As root or by sudo, install the ndasadmin tool.
1. As root or by sudo, register and enable ndas connected drives with ndasadmin. 


'''Example:'''
{{{
user@ubuntu64:~$ wget http://ndas4linux.iocellnetworks.com/trac/index.cgi/export/HEAD/ndas4linux/release/ndas-3.2.0.x86_64.tar.gz
user@ubuntu64:~$ tar zxvf ndas-3.2.0.x86_64.tar.gz
user@ubuntu64:~$ cd ndas-3.2.0.x86_64.tar.gz
user@ubuntu64:~$ dpkg-buildpackage -rfakeroot -a`dpkg --print-architecture`
user@ubuntu64:~$ cd ..
user@ubuntu64:~$ sudo dpkg -i ndas-modules-src_3.2.0.x64_amd64.deb
user@ubuntu64:~$ sudo m-a prepare
user@ubuntu64:~$ sudo m-a update
user@ubuntu64:~$ sudo m-a auto-install ndas
user@ubuntu64:~$ sudo dpkg -i ndasadmin_3.2.0.x64_amd64.deb 
user@ubuntu64:~$ sudo ndasadmin help

}}}


----
= See Also =
* [HowToUseNdasAdmin How To Use ndasadmin]

